var SourceModel=Backbone.Model.extend({defaults:{branch:"",content:"",starting_line_num:0}}),DiffModel=Backbone.Model.extend({defaults:{left:null,right:null,selected:!1,custom:null},initialize:function(e){e||(e={});var t={starting_line_num:e.line_num||0};this.set("left",new SourceModel(_.extend(t,e.left||{})));this.set("right",new SourceModel(_.extend(t,e.right||{})))},useRight:function(){this.set("selected",this.get("right"))},useLeft:function(){this.set("selected",this.get("left"))},useCustom:function(e){this.set("custom",new SourceModel(e));this.set("selected",this.get("custom"))}}),DiffsCollection=Backbone.Collection.extend({model:DiffModel}),MergeTemplateModel=Backbone.Model.extend({defaults:{template:"",rendered:"",differences:[]},setDifferences:function(e){this.set("differences",new DiffsCollection(e))},run:function(e){e||(e={});var t=template;_.each(this.get("differences"),function(e,n){e.get("selected")&&t.replace("{diff-"+n+"}",e.get("selected").get("content"))});this.set("rendered",t);return t}}),ConflictModel=Backbone.Model.extend({defaults:{raw:"",differences:[],merge_template:null},url:"/process",initialize:function(e){e||(e={});this.set("differences",new DiffsCollection(e.differences||[]));this.set("merge_template",new MergeTemplateModel(e.merge_template||{}))}});